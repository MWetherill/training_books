<h6 class="fw-lighter">USER</h6>
<h2><%= name(@user) %></h2>
<p class="mb-4">No. of books: <%= @user.books.count %></p>
<div class="d-flex flex-row justify-content-start align-items-center gap-1">
  <%= link_to 'Back to users', users_path, class: "btn btn-primary" %>
  <%= link_to edit_user_path(@user), class: "btn btn-primary" do %>
    <i class="fa-solid fa-pen-to-square"></i>
  <% end %>
  <%= button_to @user, method: :delete, data: { turbo_confirm: "Are you sure?" }, class: "btn btn-danger" do %>
    <i class="fa-solid fa-trash"></i>
  <% end %>
</div>
<hr>
<% if @books.present? %>
  <h3>Books</h3>
  <table class="table table-striped text-start">
    <thead>
        <th scope="col">Name</th>
        <th scope="col">Short Description</th>
        <th scope="col">Genre</th>
        <th scope="col">Owner</th>
    </thead>
    <tbody>
      <% @books.each do |book| %>
        <tr id="<%= dom_id book %>">
          <td><%= link_to book.title, book %></td>
          <td><%= book.short_description %></td>
          <td><%= book.genres.map{|bg| link_to bg.name, bg}.join(', ').html_safe %></td>
          <td><%= link_to name(book.user), book.user %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="d-flex justify-content-end">
    <%== @pagy.series_nav(:bootstrap) %>
  </div>
<% end %>